<title>Test_code</title>
<style>
    body{text-align:center}
    p{color: white}
</style>
<body style="background-color:black;">

<Script Language="JavaScript">
alert('欢迎参与张三的邮件JavaScript发送+验证码效验测试！')
var name=prompt('请输入邮件接收者邮箱：')
var num=Math.floor(Math.random()*100+8);

<font color="white"><h1>邮箱发送+验证码效验测试</h1></font>

let transporter = nodemailer.createTransport({
  // host: 'smtp.ethereal.email',
  service: 'qq', // 使用了内置传输发送邮件 查看支持列表：https://nodemailer.com/smtp/well-known/
  port: 465, // SMTP 端口
  secureConnection: true, // 使用了 SSL
  auth: {
    user: 'y78n@qq.com',
    // 这里密码不是qq密码，是你设置的smtp授权码
    pass: 'apphguyazvgaegda',
  },
})
let mailOptions = {
    from: 'y78n@qq.com', // sender addres
    to: name, // list of receivers
    subject: '验证码', // Subject line
    // 发送text或者html格式
    text: num, // plain text body
    // html: '<b>Hello world?</b>', // html body
}
//发送
    transporter.sendMail(mailOptions, (error, info) => {
      if (error) {
        return console.log(error)
      }
      console.log('Message sent: %s', info.messageId)
    })

var code=prompt('请输入验证码')
if (code === num) {
   document.getElementById("demo").innerHTML = "验证通过！";
}


</Script>
</body>
</html>
